<p-dataTable [immutable]="false" [value]="stockRecommendationList" [sortMode]="multiple" [responsive]="true"
  resizableColumns="true" reorderableColumns="true" columnResizeMode="fit" selectionMode="single">
  <p-column field="script" header="Script" [sortable]="true" filter="true" [style]="{'width':'10%'}"></p-column>
  <p-column field="name" header="Name" [sortable]="true" filter="true" [hidden]="true"></p-column>
  <p-column field="rcomPrice" header="SP (&#8377;)" sortable="true" [style]="{'width':'7%'}" pTooltip="Suggested Price"></p-column>
  <p-column field="marketPrice" header="CMP (&#8377;)" [sortable]="true" [style]="{'width':'7%'}"></p-column>
  <p-column field="targetPrice" header="TP (&#8377;)" sortable="true" [style]="{'width':'7%'}" pTooltip="Target Price"></p-column>
  <p-column field="todayagain" header="Day again %" sortable="true" [style]="{'width':'7%'}">
    <ng-template let-col let-data="rowData" pTemplate="body">
      <span [ngClass]="{'text-danger': (data[col.field] < 0), 'text-success': (data[col.field] > 0), 'text-muted': (data[col.field] == 0)}">{{ data[col.field] }}</span>
    </ng-template>
  </p-column>
  <p-column field="targetPercentage" header="Target/Achived" sortable="true" [style]="{'width':'10%'}">
    <ng-template let-col let-target="rowData" let-ri="rowIndex" pTemplate="body">
      <div class="clearfix">
        <div class="float-left">
          {{target.targetPercentage | number : '1.2-2' }}%
        </div>
      </div>
      <div class="progress progress-xs">
        <div class="progress-bar bg-warning" role="progressbar" [ngStyle]="{width: target.targetPercentage + '%'}"
          aria-valuenow="43" aria-valuemin="0" aria-valuemax="100">
        </div>
      </div>
      <div class="clearfix">
        <div class="float-left">
          {{target.achivedPercentage | number : '1.2-2' }}%
        </div>
      </div>
      <div class="progress progress-xs">
        <div [className]="'progress-bar bg-' + target.achivedPercentageClass" role="progressbar" [ngStyle]="{width: target.achivedPercentageWidth + '%'}"
          aria-valuenow="" aria-valuemin="0" aria-valuemax="100">
        </div>
      </div>
    </ng-template>
  </p-column>
  <p-column field="days" header="Days" sortable="true" [style]="{'width':'5%'}"></p-column>
  <p-column field="rcomBy" header="Suggested By" sortable="true" filter="true" [style]="{'width':'10%'}"></p-column>
  <p-column header="Suggestion Date" sortable="true" [style]="{'width':'10%'}">
    <ng-template let-col let-target="rowData" let-ri="rowIndex" pTemplate="body">
      <span>{{target.rcomDate | date:'dd-MMM-yyyy'}}</span>
    </ng-template>
  </p-column>
  <p-column field="rcomTimeScale" header="Target Timescale" sortable="true" filter="true" [style]="{'width':'10%'}"></p-column>
</p-dataTable>
